(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1645:e=>{"use strict";e.exports=require("net")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},3997:e=>{"use strict";e.exports=require("tty")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},3529:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(260),a=s(8203),l=s(5155),n=s.n(l),o=s(7292),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1377)),"/Users/ryan/todo-frontend/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1354)),"/Users/ryan/todo-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/ryan/todo-frontend/src/app/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1542:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3219,23)),Promise.resolve().then(s.t.bind(s,4863,23)),Promise.resolve().then(s.t.bind(s,5155,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,6313,23)),Promise.resolve().then(s.t.bind(s,8530,23)),Promise.resolve().then(s.t.bind(s,8921,23))},9694:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6959,23)),Promise.resolve().then(s.t.bind(s,3875,23)),Promise.resolve().then(s.t.bind(s,8903,23)),Promise.resolve().then(s.t.bind(s,4178,23)),Promise.resolve().then(s.t.bind(s,6013,23)),Promise.resolve().then(s.t.bind(s,7190,23)),Promise.resolve().then(s.t.bind(s,1365,23))},7538:(e,t,s)=>{Promise.resolve().then(s.bind(s,8891))},1098:(e,t,s)=>{Promise.resolve().then(s.bind(s,1427))},5260:(e,t,s)=>{Promise.resolve().then(s.bind(s,1377))},3404:(e,t,s)=>{Promise.resolve().then(s.bind(s,1502))},1095:(e,t,s)=>{"use strict";s.d(t,{Y:()=>i});var r=s(5512),a=s(5103),l=s(8009);let n=({onClick:e})=>(0,r.jsxs)("button",{onClick:e,className:"flex flex-wrap flex-1 shrink gap-2 justify-center items-center self-stretch p-4 my-auto w-full bg-[#1E6F9F] rounded-lg basis-0 min-w-[240px] max-md:max-w-full","aria-label":"Create new task",children:[(0,r.jsx)("span",{className:"self-stretch my-auto text-sm font-bold leading-snug text-zinc-100",children:"Create Task "}),(0,r.jsx)(a.default,{width:22,height:22,src:"/plus.png",alt:"add task",className:"object-contain shrink-0 self-stretch my-auto w-4 aspect-square"})]});var o=s(9334);let i=()=>{let[e,t]=(0,l.useState)(""),s=(0,o.useRouter)(),i=(0,o.usePathname)();return(0,l.useEffect)(()=>{t(`${i}`)},[i,e]),(0,r.jsx)("header",{className:"flex flex-col items-center px-20 pt-20 w-full bg-stone-950 max-md:px-5 max-md:max-w-full",children:(0,r.jsxs)("div",{className:"flex z-10 flex-col mb-0 max-w-full w-[736px] max-md:mb-2.5",children:[(0,r.jsxs)("div",{className:"flex gap-3 self-center ml-12 max-w-full text-4xl font-black text-yellow-600 w-[226px]",children:[(0,r.jsx)(a.default,{width:200,height:200,src:"/rocket.png",className:"object-contain shrink-0 self-start mt-1.5 aspect-[0.61] w-[22px]",alt:"rocket"}),(0,r.jsxs)("h1",{className:"grow shrink w-[188px]",children:[(0,r.jsx)("span",{className:"text-[#4EA8DE]",children:"Todo "})," ",(0,r.jsx)("span",{className:"text-[#5E60CE]",children:"App"})," "]})]}),(0,r.jsx)("div",{className:"flex gap-2 items-center mt-14 text-sm font-bold leading-snug text-zinc-100 max-md:mt-10",children:"/"==i?(0,r.jsx)(n,{onClick:()=>{s.push("/add-task")}}):(0,r.jsx)("div",{})})]})})}},1427:(e,t,s)=>{"use strict";s.d(t,{TasksProvider:()=>i,s:()=>d});var r=s(5512),a=s(8009),l=s(4488);async function n(){try{let e=await l.A.get("/");if(e.data)return e.data;throw Error("No tasks data found.")}catch(e){throw console.error("Error fetching data from API:",e),Error("Error occurred while fetching tasks data")}}let o=(0,a.createContext)(null),i=({children:e})=>{let[t,s]=(0,a.useState)([]),[l,i]=(0,a.useState)(0),d=async()=>{try{let e=await n();if(!Array.isArray(e)){console.error("Expected an array, but received:",e);return}s(t=>[...Array.isArray(t)?t:[],...e]),i(t=>t+e.length)}catch(e){e instanceof Error&&console.error("Error fetching task data:",e.message)}};return(0,a.useEffect)(()=>{d()},[]),(0,r.jsx)(o.Provider,{value:{tasks:t,setTasks:s,totalCount:l,setTotalCount:i},children:e})},d=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useTasks must be used within a TasksProvider");return e}},1502:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(5512),a=s(8009),l=s(1427);let n=({label:e,color:t})=>{let{tasks:s}=(0,l.s)(),[n,o]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let e=s?.length;e>0?(o(e),0===s[0].length&&o(0)):o(0)},[o,s,n]),(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)("div",{className:`self-stretch my-auto text-sm ${t}`,children:e}),(0,r.jsx)("div",{className:"self-stretch px-2 py-0.5 my-auto text-xs bg-zinc-800 rounded-[999px] text-zinc-300",children:n})]})};var o=s(5103);let i=({message:e,submessage:t})=>(0,r.jsxs)("section",{className:"flex flex-col justify-center px-6 py-16 mt-6 w-full text-base leading-6 text-center rounded-lg border-t border-solid border-t-zinc-800 text-zinc-500 max-md:px-5 max-md:max-w-full",children:[(0,r.jsx)(o.default,{width:22,height:22,src:"/clipboard.png",alt:"clipboard",className:"object-contain self-center w-14 aspect-square"}),(0,r.jsxs)("p",{className:"mt-4 max-md:max-w-full",children:[e," ",(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"text-zinc-500",children:t})," "]})]});var d=s(4488),c=s(9334);let u=({handleModalToggle:e})=>{let t=(0,c.useRouter)(),s=(0,c.useSearchParams)(),{tasks:a,setTasks:n}=(0,l.s)(),o=async()=>{let r=s.get("id");if(!r){console.error("No task ID found in search parameters.");return}let l=Number(r);try{let s=await d.A.delete(`/${r}`);if(204===s.status){console.log("Task deleted successfully");let s=a.filter(e=>e.id!==l);n([...s]),e(),t.push("/")}else console.error("Failed to delete task:",s.statusText)}catch(e){console.error("Error while deleting task:",e)}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center",children:(0,r.jsx)("div",{className:"p-8 border w-96 shadow-lg rounded-md bg-white",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Confirm Remove Task"}),(0,r.jsx)("p",{className:"mt-2 px-7 py-3 text-lg text-gray-500",children:"Click Delete to remove this task."}),(0,r.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,r.jsx)("button",{onClick:()=>{t.push("/"),e()},className:"px-4 py-2 bg-blue-500 text-white text-base font-medium rounded-md shadow-sm hover:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-300",children:"Back to safety"}),(0,r.jsx)("button",{onClick:o,className:"px-4 py-2 bg-red-500 text-white text-base font-medium rounded-md shadow-sm hover:bg-red-400 focus:outline-none focus:ring-2 focus:ring-red-300",children:"Delete"})]})]})})})},m=({src:e,alt:t,className:s})=>(0,r.jsx)(o.default,{width:24,height:24,loading:"lazy",src:e,alt:t,className:`object-contain shrink-0 w-[24px] aspect-square ${s||""}`}),x=({message:e,startIcon:t,endIcon:s,id:n,completed:o})=>{let[i,x]=(0,a.useState)(o),[p,h]=(0,a.useState)(!1),f=(0,c.useRouter)(),{tasks:b,setTasks:g}=(0,l.s)(),v=e=>e.sort((e,t)=>t.createdAt-e.createdAt).sort((e,t)=>e.completed-t.completed),j=async()=>{let e=!i;x(e);try{let t=await d.A.put(`/${n}`,{completed:e});if(200===t.status){console.log("Record updated successfully");let t=b.map(t=>t?.id===n?{...t,completed:e}:t);g(v(t))}}catch(e){console.error("Failed to update task:",e)}};return(0,r.jsxs)("div",{children:[(0,r.jsx)("section",{role:"alert","aria-live":"polite",className:"flex text-sm leading-5",children:(0,r.jsxs)("article",{className:`flex flex-wrap gap-3 items-start p-4 h-full rounded-lg border shadow-sm bg-neutral-800 w-[736px] max-md:max-w-full ${i?"border-neutral-800 text-zinc-500":"border-zinc-800 text-zinc-100"}`,children:[(0,r.jsx)("div",{onClick:j,children:(0,r.jsx)(m,{src:i?"/checked.png":t,alt:i?"Task completed":"Mark task as completed",className:i?"w-6 outline outline-4 -outline-offset-4 outline-violet-600 rounded-full":""})}),(0,r.jsx)("div",{className:"flex-1 shrink basis-0 max-md:max-w-full",onClick:()=>f.push(`/detail/${n}?id=${n}`),children:(0,r.jsx)("p",{className:`flex-1 shrink basis-0 ${i?"line-through":""}`,children:e})}),(0,r.jsx)("div",{className:"hover:bg-red-700 rounded-full",onClick:()=>{f.push(`/?id=${n}&show=true`),h(!0)},children:(0,r.jsx)(m,{src:s,alt:"Delete task"})})]})}),p&&(0,r.jsx)(u,{handleModalToggle:()=>h(e=>!e)})]})},p=({loading:e,size:t=20,color:s="#FFFFFF"})=>(0,r.jsx)(r.Fragment,{children:e&&(0,r.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,r.jsx)("div",{className:"animate-spin inline-block rounded-full border-t-transparent border-solid",style:{width:t,height:t,borderWidth:t/6,borderColor:`${s} transparent transparent transparent`}})})}),h=()=>{let{tasks:e,setTasks:t}=(0,l.s)(),{totalCount:s,setTotalCount:n}=(0,l.s)(),[o,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(!0),[m,h]=(0,a.useState)([]),[f,b]=(0,a.useState)(!1),g=e=>e.sort((e,t)=>e.completed!==t.completed?e.completed-t.completed:new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime());return((0,a.useEffect)(()=>{(async()=>{if(d(!0),u(!0),b(!1),e&&e.length>0){let s=g(e);t(s),h(s)}else h([]);d(!1),u(!1),setTimeout(()=>b(!0),500)})()},[e,t]),o||c)?(0,r.jsxs)("div",{className:"flex justify-center items-center mx-auto mt-20",children:[(0,r.jsx)(p,{loading:!0,size:25})," "]}):(0,r.jsx)("div",{className:"flex-grow",children:m.length>0?(0,r.jsx)("div",{className:"my-5 flex-grow",children:m.map(e=>(0,r.jsx)(x,{setTasks:t,message:e.title,startIcon:"/unchecked.png",endIcon:"/trash.png",id:e.id,completed:e.completed,setNumber:n,setActualCount:n},e.id))}):f&&(0,r.jsx)(i,{message:"You don't have any tasks registered yet.",submessage:"Create tasks and organize your to-do items."})})};var f=s(1095);let b=({label:e,color:t})=>{let{tasks:s}=(0,l.s)(),[n,o]=(0,a.useState)(0),i=e=>e.filter(e=>e.completed).length;return(0,a.useEffect)(()=>{s?.length>0&&o(i(s))},[s]),(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)("div",{className:`self-stretch my-auto text-sm ${t}`,children:e}),(0,r.jsx)("div",{className:"self-stretch px-2 py-0.5 my-auto text-xs bg-zinc-800 rounded-full text-zinc-300",children:n})]})};function g(){return(0,r.jsx)("main",{className:"flex flex-col",children:(0,r.jsxs)("div",{className:"flex flex-col flex-grow pb-96 w-full h-[1500px] bg-zinc-900 max-md:pb-24 max-md:max-w-full",children:[(0,r.jsx)(f.Y,{})," ",(0,r.jsxs)("section",{className:"flex flex-col self-center mt-24 mb-0 max-w-full font-bold w-[736px] max-md:mt-10 max-md:mb-2.5",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-10 justify-between items-end w-full whitespace-nowrap max-md:max-w-full",children:[(0,r.jsx)(n,{label:"Tasks",color:"text-blue-400"})," ",(0,r.jsx)(b,{label:"Completed",color:"text-indigo-400"})," "]}),(0,r.jsxs)("div",{className:"flex flex-grow mb-10",children:[(0,r.jsx)(h,{})," "]})]})]})})}},4488:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=s(5668).A.create({baseURL:"/tasks"})},8891:(e,t,s)=>{"use strict";s.d(t,{TasksProvider:()=>a});var r=s(6760);let a=(0,r.registerClientReference)(function(){throw Error("Attempted to call TasksProvider() from the server but TasksProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ryan/todo-frontend/src/app/context/TasksContext.tsx","TasksProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useTasks() from the server but useTasks is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ryan/todo-frontend/src/app/context/TasksContext.tsx","useTasks")},1354:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>d});var r=s(2740),a=s(2067),l=s.n(a),n=s(4738),o=s.n(n);s(1135);var i=s(8891);let d={title:"ToDo App",description:"Todo app with a prisma ORM and mysql db"};function c({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)(i.TasksProvider,{children:(0,r.jsx)("body",{className:`${l().variable} ${o().variable} antialiased`,children:e})})})}},1377:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ryan/todo-frontend/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ryan/todo-frontend/src/app/page.tsx","default")},440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(8077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1135:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[989,326,270],()=>s(3529));module.exports=r})();